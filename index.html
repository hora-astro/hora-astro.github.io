<!DOCTYPE html>
<html>
<head>
  <title>Kundli Generator</title>
</head>
<body>

<h2>Kundli Details</h2>

<form id="kundliForm">
  DOB: <input type="date" id="dob"><br><br>
  TOB: <input type="time" id="tob"><br><br>
  Latitude: <input type="text" id="lat"><br><br>
  Longitude: <input type="text" id="lon"><br><br>
  Timezone: <input type="text" id="tz" value="5.5"><br><br>

  <button type="submit">Generate Kundli</button>
</form>

<h3>Result:</h3>
<pre id="result"></pre>

<script>
document.getElementById("kundliForm").addEventListener("submit", async(e)=>{
  e.preventDefault();

  let data = {
    dob: document.getElementById("dob").value,
    tob: document.getElementById("tob").value,
    lat: document.getElementById("lat").value,
    lon: document.getElementById("lon").value,
    tz: document.getElementById("tz").value
  };

  let res = await fetch("https://hemantpurohit27.pythonanywhere.com/kundli",{
    method:"POST",
    headers:{ "Content-Type":"application/json"},
    body:JSON.stringify(data)
  });

  let json = await res.json();
  document.getElementById("result").innerText = JSON.stringify(json, null, 2);
});
</script>

</body>
</html>
