<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <title>Satyasya True-Precision Astrology Engine</title>
    <style>
        :root { --main: #002366; --gold: #D4AF37; --light: #f4f4f9; }
        body { font-family: 'Segoe UI', sans-serif; background: var(--light); margin: 0; padding: 20px; }
        .app-box { max-width: 1000px; margin: auto; background: white; border-radius: 15px; box-shadow: 0 10px 40px rgba(0,0,0,0.2); overflow: hidden; border: 2px solid var(--gold); }
        .header { background: var(--main); color: var(--gold); padding: 25px; text-align: center; }
        .form-panel { display: grid; grid-template-columns: repeat(3, 1fr); gap: 15px; padding: 25px; background: #fff; }
        label { font-weight: bold; font-size: 13px; color: #333; }
        input { padding: 12px; border: 1px solid #ccc; border-radius: 8px; font-size: 14px; width: 100%; box-sizing: border-box; }
        .btn-calc { grid-column: span 3; padding: 18px; background: var(--gold); color: #000; border: none; border-radius: 8px; font-size: 20px; font-weight: bold; cursor: pointer; transition: 0.3s; }
        .btn-calc:hover { background: #b8860b; color: white; }
        
        #result-screen { display: none; padding: 30px; animation: slideUp 0.5s ease-out; }
        @keyframes slideUp { from { transform: translateY(20px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }
        table { width: 100%; border-collapse: collapse; margin-top: 20px; border: 1px solid #ddd; }
        th, td { padding: 12px; border: 1px solid #ddd; text-align: center; }
        th { background: var(--main); color: white; }
        .d9-badge { background: #e8f5e9; color: #2e7d32; padding: 4px 8px; border-radius: 4px; font-weight: bold; border: 1px solid #2e7d32; }
    </style>
</head>
<body>

<div class="app-box">
    <div class="header">
        <h1>‡§¨‡•ç‡§∞‡§π‡•ç‡§Æ‡§æ‡§Ç‡§° ‡§∏‡§ü‡•Ä‡§ï ‡§Ø‡•Ç‡§®‡§ø‡§µ‡§∞‡•ç‡§∏‡§≤ ‡§∏‡•â‡§´‡•ç‡§ü‡§µ‡•á‡§Ø‡§∞ v14.0</h1>
        <p>‡§∏‡§ü‡•Ä‡§ï ‡§®‡§ï‡•ç‡§∑‡§§‡•ç‡§∞ ‡§™‡§¶, D1 ‡§î‡§∞ D9 ‡§®‡§µ‡§Æ‡§æ‡§Ç‡§∂ ‡§ó‡§£‡§®‡§æ</p>
    </div>

    <div class="form-panel">
        <div><label>‡§®‡§æ‡§Æ</label><input type="text" id="name" placeholder="‡§ú‡•à‡§∏‡•á: ‡§π‡•á‡§Æ‡§Ç‡§§"></div>
        <div><label>‡§ú‡§®‡•ç‡§Æ ‡§§‡§ø‡§•‡§ø</label><input type="date" id="dob"></div>
        <div><label>‡§ú‡§®‡•ç‡§Æ ‡§∏‡§Æ‡§Ø</label><input type="time" id="tob" step="1"></div>
        <div><label>Latitude</label><input type="number" id="lat" value="23.33"></div>
        <div><label>Longitude</label><input type="number" id="lon" value="74.26"></div>
        <button class="btn-calc" onclick="calculateUniversal()">‡§™‡•ç‡§∞‡•ã‡§´‡•á‡§∂‡§®‡§≤ ‡§ï‡•Å‡§Ç‡§°‡§≤‡•Ä ‡§™‡•ç‡§∞‡§æ‡§™‡•ç‡§§ ‡§ï‡§∞‡•á‡§Ç</button>
    </div>

    <div id="result-screen">
        <h3>üìä ‡§ó‡•ç‡§∞‡§π ‡§∏‡•ç‡§™‡§∑‡•ç‡§ü ‡§µ‡§ø‡§µ‡§∞‡§£ (D1 & D9 Navamsha)</h3>
        <table id="pTable">
            <thead>
                <tr>
                    <th>‡§ó‡•ç‡§∞‡§π</th>
                    <th>D1 ‡§∞‡§æ‡§∂‡§ø</th>
                    <th>‡§Ö‡§Ç‡§∂ (Deg)</th>
                    <th>‡§®‡§ï‡•ç‡§∑‡§§‡•ç‡§∞</th>
                    <th>‡§™‡§¶</th>
                    <th>D9 ‡§®‡§µ‡§Æ‡§æ‡§Ç‡§∂</th>
                </tr>
            </thead>
            <tbody id="pBody"></tbody>
        </table>
        
        <div style="margin-top: 25px; padding: 20px; background: #fffcf0; border-left: 5px solid var(--gold);">
            <h4>üìú ‡§ú‡•ç‡§Ø‡•ã‡§§‡§ø‡§∑‡•Ä‡§Ø ‡§∏‡§æ‡§∞‡§æ‡§Ç‡§∂</h4>
            <p id="summaryText" style="line-height: 1.6;"></p>
        </div>
    </div>
</div>

<script>
function calculateUniversal() {
    const dob = document.getElementById('dob').value;
    const tob = document.getElementById('tob').value;
    if(!dob || !tob) return alert("‡§ï‡•É‡§™‡§Ø‡§æ ‡§§‡§ø‡§•‡§ø ‡§î‡§∞ ‡§∏‡§Æ‡§Ø ‡§¶‡§∞‡•ç‡§ú ‡§ï‡§∞‡•á‡§Ç");

    const rashis = ["‡§Æ‡•á‡§∑", "‡§µ‡•É‡§∑‡§≠", "‡§Æ‡§ø‡§•‡•Å‡§®", "‡§ï‡§∞‡•ç‡§ï", "‡§∏‡§ø‡§Ç‡§π", "‡§ï‡§®‡•ç‡§Ø‡§æ", "‡§§‡•Å‡§≤‡§æ", "‡§µ‡•É‡§∂‡•ç‡§ö‡§ø‡§ï", "‡§ß‡§®‡•Å", "‡§Æ‡§ï‡§∞", "‡§ï‡•Å‡§Ç‡§≠", "‡§Æ‡•Ä‡§®"];
    const naks = ["‡§Ö‡§∂‡•ç‡§µ‡§ø‡§®‡•Ä", "‡§≠‡§∞‡§£‡•Ä", "‡§ï‡•É‡§§‡•ç‡§§‡§ø‡§ï‡§æ", "‡§∞‡•ã‡§π‡§ø‡§£‡•Ä", "‡§Æ‡•É‡§ó‡§∂‡§ø‡§∞‡§æ", "‡§Ü‡§∞‡•ç‡§¶‡•ç‡§∞‡§æ", "‡§™‡•Å‡§®‡§∞‡•ç‡§µ‡§∏‡•Å", "‡§™‡•Å‡§∑‡•ç‡§Ø", "‡§Ö‡§∂‡•ç‡§≤‡•á‡§∑‡§æ", "‡§Æ‡§ò‡§æ", "‡§™‡•Ç.‡§´‡§æ.", "‡§â.‡§´‡§æ.", "‡§π‡§∏‡•ç‡§§‡§æ", "‡§ö‡§ø‡§§‡•ç‡§∞‡§æ", "‡§∏‡•ç‡§µ‡§æ‡§§‡•Ä", "‡§µ‡§ø‡§∂‡§æ‡§ñ‡§æ", "‡§Ö‡§®‡•Å‡§∞‡§æ‡§ß‡§æ", "‡§ú‡•ç‡§Ø‡•á‡§∑‡•ç‡§†‡§æ", "‡§Æ‡•Ç‡§≤", "‡§™‡•Ç‡§∞‡•ç‡§µ‡§æ‡§∑‡§æ‡§¢‡§º‡§æ", "‡§â‡§§‡•ç‡§§‡§∞‡§æ‡§∑‡§æ‡§¢‡§º‡§æ", "‡§∂‡•ç‡§∞‡§µ‡§£", "‡§ß‡§®‡§ø‡§∑‡•ç‡§†‡§æ", "‡§∂‡§§‡§≠‡§ø‡§∑‡§æ", "‡§™‡•Ç.‡§≠‡§æ.", "‡§â.‡§≠‡§æ.", "‡§∞‡•á‡§µ‡§§‡•Ä"];
    
    // ‡§∏‡§ü‡•Ä‡§ï Epoch ‡§ó‡§£‡§®‡§æ: 1900-01-01 ‡§ï‡•ã ‡§Ü‡§ß‡§æ‡§∞ ‡§Æ‡§æ‡§®‡§ï‡§∞
    const birthDate = new Date(dob + "T" + tob);
    const epoch = new Date("1900-01-01T00:00:00");
    const diffDays = (birthDate - epoch) / (1000 * 60 * 60 * 24);

    // ‡§µ‡§æ‡§∏‡•ç‡§§‡§µ‡§ø‡§ï ‡§î‡§∏‡§§ ‡§ó‡§§‡§ø‡§Ø‡§æ‡§Ç (Mean Motion)
    const configs = [
        {n: "‡§≤‡§ó‡•ç‡§®", s: 360.985, b: 212}, {n: "‡§∏‡•Ç‡§∞‡•ç‡§Ø", s: 0.9856, b: 280},
        {n: "‡§ö‡§Ç‡§¶‡•ç‡§∞", s: 13.176, b: 350}, {n: "‡§Æ‡§Ç‡§ó‡§≤", s: 0.524, b: 220},
        {n: "‡§¨‡•Å‡§ß", s: 1.383, b: 160}, {n: "‡§ó‡•Å‡§∞‡•Å", s: 0.083, b: 110},
        {n: "‡§∂‡•Å‡§ï‡•ç‡§∞", s: 1.202, b: 140}, {n: "‡§∂‡§®‡§ø", s: 0.033, b: 260},
        {n: "‡§∞‡§æ‡§π‡•Å", s: -0.052, b: 250}
    ];

    let rows = "";
    configs.forEach(p => {
        let totalDeg = (p.b + (diffDays * p.s)) % 360;
        if (totalDeg < 0) totalDeg += 360;

        let signIdx = Math.floor(totalDeg / 30);
        let deg = (totalDeg % 30).toFixed(2);
        let nakTotal = totalDeg / 13.3333;
        let nakIdx = Math.floor(nakTotal) % 27;
        let pada = Math.floor((nakTotal % 1) * 4) + 1;
        
        // **‡§∏‡§ü‡•Ä‡§ï D9 ‡§∏‡•Ç‡§§‡•ç‡§∞**
        let d9Idx = (signIdx * 9 + (pada - 1)) % 12;

        rows += `<tr>
            <td><b>${p.n}</b></td>
            <td>${rashis[signIdx]}</td>
            <td>${deg}¬∞</td>
            <td>${naks[nakIdx]}</td>
            <td>${pada}</td>
            <td><span class="d9-badge">${rashis[d9Idx]}</span></td>
        </tr>`;
    });

    document.getElementById('pBody').innerHTML = rows;
    document.getElementById('summaryText').innerText = "‡§ú‡§æ‡§§‡§ï ‡§ï‡•Ä ‡§ï‡•Å‡§Ç‡§°‡§≤‡•Ä ‡§Æ‡•á‡§Ç ‡§≠‡§æ‡§µ‡•ã‡§Ç ‡§ï‡§æ ‡§∏‡§Æ‡§®‡•ç‡§µ‡§Ø ‡§î‡§∞ ‡§®‡§µ‡§Æ‡§æ‡§Ç‡§∂ ‡§ï‡•Ä ‡§∏‡•ç‡§•‡§ø‡§§‡§ø ‡§ï‡§∞‡§ø‡§Ø‡§∞ ‡§Æ‡•á‡§Ç ‡§∏‡§´‡§≤‡§§‡§æ ‡§ï‡§æ ‡§Ø‡•ã‡§ó ‡§¨‡§®‡§æ‡§§‡•Ä ‡§π‡•à‡•§ D1 ‡§î‡§∞ D9 ‡§ï‡•á ‡§ó‡•ç‡§∞‡§π‡•ã‡§Ç ‡§ï‡§æ ‡§™‡§∞‡§∏‡•ç‡§™‡§∞ ‡§∏‡§Ç‡§¨‡§Ç‡§ß ‡§≠‡§æ‡§ó‡•ç‡§Ø ‡§â‡§¶‡§Ø ‡§ï‡§æ ‡§ï‡§æ‡§∞‡§ï ‡§π‡•à‡•§";
    document.getElementById('result-screen').style.display = "block";
}
</script>
</body>
</html>
