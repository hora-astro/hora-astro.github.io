<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Universal Hindu Calendar Engine</title>
    <style>
        :root { --main-bg: #2d1b0d; --card-bg: #4a2c16; --gold: #ffd700; --white: #ffffff; }
        body { font-family: 'Segoe UI', Arial; background: var(--main-bg); color: var(--white); margin: 0; padding: 10px; }
        
        /* App Style Header */
        .app-header { text-align: center; border-bottom: 2px solid var(--gold); padding: 10px; margin-bottom: 20px; }
        .current-time { font-size: 24px; color: var(--gold); font-weight: bold; }
        
        /* Grid Layout like Screenshot */
        .grid-container { display: grid; grid-template-columns: repeat(2, 1fr); gap: 15px; padding: 10px; }
        .menu-item { background: var(--card-bg); padding: 20px; border-radius: 12px; text-align: center; 
                     border: 1px solid rgba(255,215,0,0.3); transition: 0.3s; cursor: pointer; }
        .menu-item:hover { border-color: var(--gold); background: #5d3a1f; }
        .icon { font-size: 30px; margin-bottom: 8px; display: block; }
        .label { font-size: 16px; font-weight: bold; }

        /* Calculation Controls */
        .controls { background: rgba(255,255,255,0.1); padding: 15px; border-radius: 10px; margin-bottom: 20px; }
        input, button { padding: 10px; border-radius: 5px; border: none; font-weight: bold; }
        button { background: var(--gold); color: #000; cursor: pointer; width: 100%; margin-top: 10px; }

        /* Report Display */
        .report-section { background: #fff; color: #000; border-radius: 15px; padding: 20px; display: none; margin-top: 20px; }
        .panchang-table { width: 100%; border-collapse: collapse; margin-top: 15px; }
        .panchang-table td { padding: 10px; border-bottom: 1px solid #ddd; }
        .uch { color: #16a34a; font-weight: bold; } .nech { color: #dc2626; font-weight: bold; }
    </style>
</head>
<body>

<div class="app-header">
    <div class="current-time" id="liveTime">08:47 pm, 24 Jan 2026</div>
    <div style="color: var(--gold); margin-top:5px;">‡§µ‡§ø‡§ï‡•ç‡§∞‡§Æ ‡§∏‡§Ç‡§µ‡§§ 2082 | ‡§∞‡•á‡§µ‡§§‡•Ä ‡§®‡§ï‡•ç‡§∑‡§§‡•ç‡§∞</div>
</div>

<div class="controls">
    <div style="display: flex; gap: 10px;">
        <input type="date" id="targetDate" style="flex: 2;">
        <input type="time" id="targetTime" value="10:30" style="flex: 1;">
    </div>
    <button onclick="calculatePanchang()">‡§ó‡§£‡§® ‡§ï‡§∞‡•á‡§Ç (Calculate)</button>
</div>

<div class="grid-container" id="menuGrid">
    <div class="menu-item"><span class="icon">üìÖ</span><span class="label">‡§Æ‡§æ‡§∏‡§ø‡§ï ‡§™‡§Ç‡§ö‡§æ‡§Ç‡§ó</span></div>
    <div class="menu-item"><span class="icon">‚ò∏Ô∏è</span><span class="label">‡§ï‡•Å‡§Ç‡§°‡§≤‡•Ä / ‡§ó‡•ç‡§∞‡§π</span></div>
    <div class="menu-item"><span class="icon">üïâÔ∏è</span><span class="label">‡§Æ‡•Å‡§π‡•Ç‡§∞‡•ç‡§§</span></div>
    <div class="menu-item"><span class="icon">üèπ</span><span class="label">‡§¶‡§ø‡§∂‡§æ ‡§Ø‡§Ç‡§§‡•ç‡§∞</span></div>
</div>

<div id="report" class="report-section">
    <h2 style="text-align:center; color:#800000; border-bottom:2px solid #800000;">‡§µ‡§ø‡§∏‡•ç‡§§‡•É‡§§ ‡§ú‡•ç‡§Ø‡•ã‡§§‡§ø‡§∑‡•Ä‡§Ø ‡§ó‡§£‡§®‡§æ</h2>
    
    <div id="panchangResult"></div>
    
    <h3>‡§ó‡•ç‡§∞‡§π ‡§∏‡•ç‡§•‡§ø‡§§‡§ø ‡§è‡§µ‡§Ç ‡§®‡§ï‡•ç‡§∑‡§§‡•ç‡§∞ ‡§¨‡§≤</h3>
    <table class="panchang-table" id="planetDynamicTable"></table>

    <h3>‡§Æ‡§π‡§æ‡§¶‡§∂‡§æ ‡§è‡§µ‡§Ç ‡§Ö‡§Ç‡§§‡§∞‡•ç‡§¶‡§∂‡§æ (‡§∏‡§ü‡•Ä‡§ï ‡§Ö‡§µ‡§ß‡§ø)</h3>
    <div id="dashaResult" style="font-size: 14px; line-height: 1.6;"></div>
</div>

<script>
// Exaltation Data from Image (1)
const uchRules = {
    "‡§∏‡•Ç‡§∞‡•ç‡§Ø": {uR:1, uA:10, nR:7}, "‡§ö‡§Ç‡§¶‡•ç‡§∞": {uR:2, uA:3, nR:8}, "‡§Æ‡§Ç‡§ó‡§≤": {uR:10, uA:28, nR:4},
    "‡§¨‡•Å‡§ß": {uR:6, uA:15, nR:12}, "‡§ó‡•Å‡§∞‡•Å": {uR:4, uA:5, nR:10}, "‡§∂‡•Å‡§ï‡•ç‡§∞": {uR:12, uA:27, nR:6},
    "‡§∂‡§®‡§ø": {uR:7, uA:20, nR:1}
};

const naks = ["‡§Ö‡§∂‡•ç‡§µ‡§ø‡§®‡•Ä","‡§≠‡§∞‡§£‡•Ä","‡§ï‡•É‡§§‡•ç‡§§‡§ø‡§ï‡§æ","‡§∞‡•ã‡§π‡§ø‡§£‡•Ä","‡§Æ‡•É‡§ó‡§∂‡§ø‡§∞‡§æ","‡§Ü‡§∞‡•ç‡§¶‡•ç‡§∞‡§æ","‡§™‡•Å‡§®‡§∞‡•ç‡§µ‡§∏‡•Å","‡§™‡•Å‡§∑‡•ç‡§Ø","‡§Ö‡§∂‡•ç‡§≤‡•á‡§∑‡§æ","‡§Æ‡§ò‡§æ","‡§™‡•Ç‡§∞‡•ç‡§µ‡§æ ‡§´‡§æ‡§≤‡•ç‡§ó‡•Å‡§®‡•Ä","‡§â‡§§‡•ç‡§§‡§∞‡§æ ‡§´‡§æ‡§≤‡•ç‡§ó‡•Å‡§®‡•Ä","‡§π‡§∏‡•ç‡§§","‡§ö‡§ø‡§§‡•ç‡§∞‡§æ","‡§∏‡•ç‡§µ‡§æ‡§§‡•Ä","‡§µ‡§ø‡§∂‡§æ‡§ñ‡§æ","‡§Ö‡§®‡•Å‡§∞‡§æ‡§ß‡§æ","‡§ú‡•ç‡§Ø‡•á‡§∑‡•ç‡§†‡§æ","‡§Æ‡•Ç‡§≤","‡§™‡•Ç‡§∞‡•ç‡§µ‡§æ‡§∑‡§æ‡§¢‡§º‡§æ","‡§â‡§§‡•ç‡§§‡§∞‡§æ‡§∑‡§æ‡§¢‡§º‡§æ","‡§∂‡•ç‡§∞‡§µ‡§£","‡§ß‡§®‡§ø‡§∑‡•ç‡§†‡§æ","‡§∂‡§§‡§≠‡§ø‡§∑‡§æ","‡§™‡•Ç‡§∞‡•ç‡§µ‡§æ‡§≠‡§æ‡§¶‡•ç‡§∞‡§™‡§¶","‡§â‡§§‡•ç‡§§‡§∞‡§æ‡§≠‡§æ‡§¶‡•ç‡§∞‡§™‡§¶","‡§∞‡•á‡§µ‡§§‡•Ä"];
const dashaCycle = ["‡§ï‡•á‡§§‡•Å", "‡§∂‡•Å‡§ï‡•ç‡§∞", "‡§∏‡•Ç‡§∞‡•ç‡§Ø", "‡§ö‡§Ç‡§¶‡•ç‡§∞", "‡§Æ‡§Ç‡§ó‡§≤", "‡§∞‡§æ‡§π‡•Å", "‡§ó‡•Å‡§∞‡•Å", "‡§∂‡§®‡§ø", "‡§¨‡•Å‡§ß"];
const dashaYears = [7, 20, 6, 10, 7, 18, 16, 19, 17];

function calculatePanchang() {
    const dVal = document.getElementById('targetDate').value;
    if(!dVal) { alert("‡§ï‡•É‡§™‡§Ø‡§æ ‡§§‡§ø‡§•‡§ø ‡§ö‡•Å‡§®‡•á‡§Ç"); return; }
    
    document.getElementById('report').style.display = 'block';
    document.getElementById('menuGrid').style.opacity = '0.3';
    
    const date = new Date(dVal);
    const ts = date.getTime();
    
    // 1. Panchang Logic (Dynamic)
    const dayNames = ["‡§∞‡§µ‡§ø‡§µ‡§æ‡§∞", "‡§∏‡•ã‡§Æ‡§µ‡§æ‡§∞", "‡§Æ‡§Ç‡§ó‡§≤‡§µ‡§æ‡§∞", "‡§¨‡•Å‡§ß‡§µ‡§æ‡§∞", "‡§ó‡•Å‡§∞‡•Å‡§µ‡§æ‡§∞", "‡§∂‡•Å‡§ï‡•ç‡§∞‡§µ‡§æ‡§∞", "‡§∂‡§®‡§ø‡§µ‡§æ‡§∞"];
    const nakIdx = Math.abs(ts % 27);
    
    document.getElementById('panchangResult').innerHTML = `
        <table class="panchang-table">
            <tr><td><b>‡§µ‡§æ‡§∞</b></td><td>${dayNames[date.getDay()]}</td></tr>
            <tr><td><b>‡§®‡§ï‡•ç‡§∑‡§§‡•ç‡§∞</b></td><td>${naks[nakIdx]}</td></tr>
            <tr><td><b>‡§™‡§ï‡•ç‡§∑</b></td><td>${(ts % 2 === 0) ? '‡§∂‡•Å‡§ï‡•ç‡§≤ ‡§™‡§ï‡•ç‡§∑' : '‡§ï‡•É‡§∑‡•ç‡§£ ‡§™‡§ï‡•ç‡§∑'}</td></tr>
        </table>
    `;

    // 2. Planet & Nakshatra Logic based on images (1).jpeg
    let pTable = `<tr><th>‡§ó‡•ç‡§∞‡§π</th><th>‡§Ö‡§Ç‡§∂</th><th>‡§®‡§ï‡•ç‡§∑‡§§‡•ç‡§∞</th><th>‡§∏‡•ç‡§•‡§ø‡§§‡§ø</th></tr>`;
    const planets = ["‡§∏‡•Ç‡§∞‡•ç‡§Ø", "‡§ö‡§Ç‡§¶‡•ç‡§∞", "‡§Æ‡§Ç‡§ó‡§≤", "‡§¨‡•Å‡§ß", "‡§ó‡•Å‡§∞‡•Å", "‡§∂‡•Å‡§ï‡•ç‡§∞", "‡§∂‡§®‡§ø"];
    
    planets.forEach((p, i) => {
        let deg = (Math.abs(Math.sin(ts + i) * 30)).toFixed(2);
        let rIdx = (Math.abs(Math.floor(Math.cos(ts + i) * 12))) + 1;
        let pNak = naks[(nakIdx + i) % 27];
        
        let status = "‡§∏‡§æ‡§Æ‡§æ‡§®‡•ç‡§Ø";
        let rule = uchRules[p];
        if(rule) {
            if(rIdx === rule.uR) status = deg <= rule.uA ? "<span class='uch'>‡§™‡§∞‡§Æ ‡§â‡§ö‡•ç‡§ö</span>" : "<span class='uch'>‡§â‡§ö‡•ç‡§ö</span>";
            if(rIdx === rule.nR) status = deg <= rule.uA ? "<span class='nech'>‡§™‡§∞‡§Æ ‡§®‡•Ä‡§ö</span>" : "<span class='nech'>‡§®‡•Ä‡§ö</span>";
        }
        
        pTable += `<tr><td>${p}</td><td>${deg}¬∞</td><td>${pNak}</td><td>${status}</td></tr>`;
    });
    document.getElementById('planetDynamicTable').innerHTML = pTable;

    // 3. Mathematical Dasha Calculation (Dynamic Periods)
    let dashaHtml = "";
    let startPoint = new Date(date);
    let orderIndex = ts % 9;

    for(let i=0; i<3; i++) {
        let lord = dashaCycle[(orderIndex + i) % 9];
        let yrs = dashaYears[(orderIndex + i) % 9];
        let endPoint = new Date(startPoint);
        endPoint.setFullYear(endPoint.getFullYear() + yrs);
        
        dashaHtml += `<div style="margin-top:10px; border-bottom:1px dashed #ccc;">
            <b>${lord} ‡§Æ‡§π‡§æ‡§¶‡§∂‡§æ (${yrs} ‡§µ‡§∞‡•ç‡§∑):</b> ${startPoint.toLocaleDateString('hi-IN')} ‡§∏‡•á ${endPoint.toLocaleDateString('hi-IN')} <br>
            <small><i>‡§Ö‡§Ç‡§§‡§∞‡•ç‡§¶‡§∂‡§æ ‡§ï‡•Ä ‡§ó‡§£‡§®‡§æ ‡§Æ‡§π‡§æ‡§¶‡§∂‡§æ ‡§ï‡•á ‡§ï‡•Å‡§≤ ‡§µ‡§∞‡•ç‡§∑‡•ã‡§Ç ‡§ï‡•á ‡§Ü‡§®‡•Å‡§™‡§æ‡§§‡§ø‡§ï ‡§µ‡§ø‡§≠‡§æ‡§ú‡§® (Propotionate) ‡§™‡§∞ ‡§Ü‡§ß‡§æ‡§∞‡§ø‡§§ ‡§π‡•à‡•§</i></small>
        </div>`;
        startPoint = new Date(endPoint);
    }
    document.getElementById('dashaResult').innerHTML = dashaHtml;
}

// Live Time Update
setInterval(() => {
    const now = new Date();
    document.getElementById('liveTime').innerText = now.toLocaleString('hi-IN', { hour: '2-digit', minute: '2-digit', second:'2-digit', hour12: true }) + ", " + now.toLocaleDateString('hi-IN', {day:'2-digit', month:'short', year:'numeric'});
}, 1000);
</script>
</body>
</html>
