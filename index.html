<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <title>Professional Astrology Software</title>
    <style>
        body { font-family: 'Segoe UI', sans-serif; background: #fdf2e9; text-align: center; padding: 10px; }
        .container { background: white; max-width: 800px; margin: auto; padding: 20px; border-radius: 15px; box-shadow: 0 4px 15px rgba(0,0,0,0.1); border-top: 5px solid #e67e22; }
        .inputs { display: grid; grid-template-columns: repeat(auto-fit, minmax(80px, 1fr)); gap: 10px; margin-bottom: 20px; }
        input { padding: 10px; border: 1px solid #ddd; border-radius: 5px; text-align: center; }
        button { background: #e67e22; color: white; border: none; padding: 15px; border-radius: 8px; cursor: pointer; font-weight: bold; width: 100%; font-size: 16px; }
        
        /* प्रोफेशनल डायमंड चार्ट (North Indian Style) */
        .kundli-chart { position: relative; width: 350px; height: 350px; border: 2px solid #333; margin: 20px auto; background: #fff; }
        .line-v { position: absolute; width: 1px; height: 100%; background: #333; left: 50%; }
        .line-h { position: absolute; height: 1px; width: 100%; background: #333; top: 50%; }
        .diag1 { position: absolute; width: 141%; height: 1px; background: #333; top: 50%; left: -20.5%; transform: rotate(45deg); }
        .diag2 { position: absolute; width: 141%; height: 1px; background: #333; top: 50%; left: -20.5%; transform: rotate(-45deg); }
        
        .house { position: absolute; width: 50px; height: 50px; text-align: center; font-size: 12px; font-weight: bold; }
        .rashi-no { color: #7f8c8d; display: block; font-size: 10px; }
        .planets { color: #c0392b; font-size: 11px; margin-top: 5px; line-height: 1.2; }

        /* घरों की सटीक पोजीशन */
        .h1 { top: 130px; left: 150px; } .h2 { top: 60px; left: 75px; } .h3 { top: 60px; left: 225px; }
        .h4 { top: 130px; left: 75px; } .h5 { top: 215px; left: 75px; } .h6 { top: 280px; left: 75px; }
        .h7 { top: 205px; left: 150px; } .h8 { top: 280px; left: 225px; } .h9 { top: 215px; left: 225px; }
        .h10 { top: 130px; left: 225px; } .h11 { top: 20px; left: 225px; } .h12 { top: 20px; left: 75px; }

        table { width: 100%; border-collapse: collapse; margin-top: 20px; background: white; }
        th, td { border: 1px solid #ddd; padding: 10px; font-size: 13px; }
        th { background: #e67e22; color: white; }
    </style>
</head>
<body>

<div class="container">
    <h2 style="color: #d35400;">प्रोफेशनल ज्योतिष (Universal)</h2>
    <div class="inputs">
        <input type="number" id="d" value="27"> <input type="number" id="m" value="3">
        <input type="number" id="y" value="1980"> <input type="number" id="h" value="10">
        <input type="number" id="min" value="30">
    </div>
    <button onclick="runCalculation()">कुंडली तैयार करें</button>

    <div id="chart-area" class="kundli-chart">
        <div class="line-v"></div><div class="line-h"></div>
        <div class="diag1"></div><div class="diag2"></div>
        <div class="house h1" id="house1"><span class="rashi-no"></span><div class="planets"></div></div>
        <div class="house h2" id="house2"><span class="rashi-no"></span><div class="planets"></div></div>
        <div class="house h3" id="house3"><span class="rashi-no"></span><div class="planets"></div></div>
        <div class="house h4" id="house4"><span class="rashi-no"></span><div class="planets"></div></div>
        <div class="house h5" id="house5"><span class="rashi-no"></span><div class="planets"></div></div>
        <div class="house h6" id="house6"><span class="rashi-no"></span><div class="planets"></div></div>
        <div class="house h7" id="house7"><span class="rashi-no"></span><div class="planets"></div></div>
        <div class="house h8" id="house8"><span class="rashi-no"></span><div class="planets"></div></div>
        <div class="house h9" id="house9"><span class="rashi-no"></span><div class="planets"></div></div>
        <div class="house h10" id="house10"><span class="rashi-no"></span><div class="planets"></div></div>
        <div class="house h11" id="house11"><span class="rashi-no"></span><div class="planets"></div></div>
        <div class="house h12" id="house12"><span class="rashi-no"></span><div class="planets"></div></div>
    </div>

    <table id="p-table">
        <thead><tr><th>ग्रह</th><th>राशि</th><th>अंश (Degree)</th></tr></thead>
        <tbody id="p-body"></tbody>
    </table>
</div>

<script>
function runCalculation() {
    const d = parseInt(document.getElementById('d').value);
    const m = parseInt(document.getElementById('m').value);
    const y = parseInt(document.getElementById('y').value);

    // Dynamic Logic: तारीख के हिसाब से ग्रहों को खिसकाना (Universal Calculation)
    let totalDays = (y - 1900) * 365 + (m * 30) + d;
    
    const planetData = [
        { n: "Sun", speed: 0.98, start: 280 }, { n: "Moon", speed: 13.1, start: 40 },
        { n: "Mars", speed: 0.52, start: 120 }, { n: "Merc", speed: 1.2, start: 300 },
        { n: "Jup", speed: 0.08, start: 90 }, { n: "Ven", speed: 1.1, start: 10 },
        { n: "Sat", speed: 0.03, start: 140 }, { n: "Rah", speed: -0.05, start: 130 }
    ];

    const rashiNames = ["मेष", "वृषभ", "मिथुन", "कर्क", "सिंह", "कन्या", "तुला", "वृश्चिक", "धनु", "मकर", "कुंभ", "मीन"];
    const tbody = document.getElementById('p-body');
    tbody.innerHTML = '';

    // लग्न (Ascendant) की गणना (समय के आधार पर)
    let ascRashi = ((Math.floor(totalDays/30) + (parseInt(document.getElementById('h').value)/2)) % 12) + 1;
    ascRashi = Math.floor(ascRashi) || 1;

    // घरों को साफ करें
    for(let i=1; i<=12; i++) {
        document.querySelector(`#house${i} .planets`).innerHTML = '';
        let rNo = (ascRashi + i - 2) % 12 + 1;
        document.querySelector(`#house${i} .rashi-no`).innerText = rNo;
    }

    planetData.forEach(p => {
        let curDeg = (p.start + (totalDays * p.speed)) % 360;
        if(curDeg < 0) curDeg += 360;
        let rashiIdx = Math.floor(curDeg / 30);
        let rashiNo = rashiIdx + 1;
        
        // घर ढूँढना (House Mapping)
        let houseIdx = (rashiNo - ascRashi + 12) % 12 + 1;
        document.querySelector(`#house${houseIdx} .planets`).innerHTML += p.n + "<br>";

        // टेबल में भरना
        tbody.innerHTML += `<tr><td>${p.n}</td><td>${rashiNames[rashiIdx]}</td><td>${(curDeg % 30).toFixed(2)}°</td></tr>`;
    });
}
</script>
</body>
</html>
