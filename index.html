<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Professional Universal Astrology Software</title>
    <script src="https://hora-astro.github.io/dist/hora-astro.min.js"></script>
    <style>
        body { font-family: 'Segoe UI', Arial, sans-serif; background: #f8f9fa; color: #333; margin: 0; padding: 20px; }
        .container { max-width: 900px; margin: auto; background: white; padding: 30px; border-radius: 15px; box-shadow: 0 5px 25px rgba(0,0,0,0.1); }
        h1 { color: #d35400; border-bottom: 2px solid #e67e22; padding-bottom: 10px; }
        .input-section { display: grid; grid-template-columns: repeat(auto-fit, minmax(120px, 1fr)); gap: 15px; margin-bottom: 25px; background: #fff5eb; padding: 20px; border-radius: 10px; }
        label { display: block; font-size: 12px; font-weight: bold; margin-bottom: 5px; color: #e67e22; }
        input { width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 5px; box-sizing: border-box; }
        button { background: #e67e22; color: white; border: none; padding: 15px 30px; font-size: 18px; border-radius: 8px; cursor: pointer; width: 100%; font-weight: bold; transition: 0.3s; }
        button:hover { background: #d35400; }
        
        /* प्रोफेशनल डायमंड चार्ट डिजाइन */
        .chart-container { display: flex; justify-content: center; margin-top: 30px; }
        #kundli-svg { width: 400px; height: 400px; border: 2px solid #333; background: #fff; }
        
        table { width: 100%; margin-top: 30px; border-collapse: collapse; }
        th, td { border: 1px solid #ddd; padding: 12px; text-align: left; }
        th { background: #e67e22; color: white; }
        tr:nth-child(even) { background: #fdf2e9; }
    </style>
</head>
<body>

<div class="container">
    <h1>प्रोफेशनल ज्योतिष सॉफ्टवेयर</h1>
    
    <div class="input-section">
        <div><label>दिन</label><input type="number" id="day" value="27"></div>
        <div><label>माह</label><input type="number" id="month" value="3"></div>
        <div><label>वर्ष</label><input type="number" id="year" value="1980"></div>
        <div><label>समय (घंटा)</label><input type="number" id="hour" value="10"></div>
        <div><label>मिनट</label><input type="number" id="min" value="30"></div>
        <div><label>Latitude</label><input type="text" id="lat" value="23.33"></div>
        <div><label>Longitude</label><input type="text" id="lon" value="74.26"></div>
    </div>

    <button onclick="generateProfessionalKundli()">कुंडली तैयार करें</button>

    <div class="chart-container">
        <div id="chart-area"></div>
    </div>

    <table id="planet-table" style="display:none;">
        <thead>
            <tr>
                <th>ग्रह</th>
                <th>राशि</th>
                <th>अंश (Degree)</th>
                <th>नक्षत्र</th>
            </tr>
        </thead>
        <tbody id="planet-body"></tbody>
    </table>
</div>

<script>
function generateProfessionalKundli() {
    const d = document.getElementById('day').value;
    const m = document.getElementById('month').value;
    const y = document.getElementById('year').value;
    const h = document.getElementById('hour').value;
    const min = document.getElementById('min').value;
    const lat = document.getElementById('lat').value;
    const lon = document.getElementById('lon').value;

    // Hora-Astro लाइब्रेरी का उपयोग करके गणना
    const dateTime = new Date(y, m - 1, d, h, min);
    const observer = { lat: parseFloat(lat), lon: parseFloat(lon) };
    
    // सटीक प्रोफेशनल गणना (Lahiri Ayanamsa)
    const engine = new HoraAstro.Engine();
    const chartData = engine.calculate(dateTime, observer);

    displayTable(chartData.planets);
    drawDiamondChart(chartData);
}

function displayTable(planets) {
    const table = document.getElementById('planet-table');
    const body = document.getElementById('planet-body');
    table.style.display = 'table';
    body.innerHTML = '';

    planets.forEach(p => {
        body.innerHTML += `
            <tr>
                <td><strong>${p.name}</strong></td>
                <td>${p.rashiName}</td>
                <td>${p.degree.toFixed(2)}°</td>
                <td>${p.nakshatra}</td>
            </tr>`;
    });
}

function drawDiamondChart(data) {
    const area = document.getElementById('chart-area');
    // Hora-Astro का इनबिल्ट चार्ट रेंडरर
    area.innerHTML = HoraAstro.Visuals.drawDiamondChart(data);
}
</script>

</body>
</html>
